# Manual Test Case Checklist

## Test Environment & Setup:
*   **Application:** Modern Finance Mobile App
*   **Build:** (Specify build version/number if applicable)
*   **OS:** Android / iOS (Specify which, or if both are tested)
*   **Device:** (Specify device model/emulator used)
*   **Pre-conditions:**
    *   User is logged in (if applicable for education features).
    *   Ensure lesson JSON files are populated in `assets/data/`.
    *   For "Next Lesson" tests involving unlocking, ensure some lessons are initially locked by completing their prerequisites or manually setting them as incomplete if test data is mutable.

## 1. Next Lesson Functionality

| Test Case ID         | Description                                                                 | Steps to Reproduce                                                                                                                                                                                                                            | Expected Result                                                                                                                                                                                                                                                           | Actual Result | Pass/Fail |
| -------------------- | --------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------- | --------- |
| TC_NEXT_LESSON_01    | Navigate to next lesson from completion dialog.                             | 1. Open an education category. <br> 2. Select a lesson that has a subsequent lesson in the same category. <br> 3. Complete all content pages/quiz within the lesson to trigger the completion dialog. <br> 4. In the dialog, tap "Sonraki Ders" (Next Lesson). | The dialog closes. <br> The screen navigates to the `LessonDetailScreen` for the next lesson in order. <br> The progress bar and lesson title in the header update to reflect the new lesson.                                                                               |               |           |
| TC_NEXT_LESSON_02    | "Next Lesson" button on the last lesson of a category.                      | 1. Open an education category. <br> 2. Navigate to and complete the *last* lesson in that category. <br> 3. Trigger the lesson completion dialog. <br> 4. Tap "Sonraki Ders".                                                                 | The dialog closes. <br> The current `LessonDetailScreen` pops. <br> The user is navigated back to the `EducationCategoryScreen`. <br> A SnackBar appears with a message like "Tebrikler! Bu kategorideki tüm dersleri tamamladınız."                                   |               |           |
| TC_NEXT_LESSON_03    | Verify lesson unlocking after completing prerequisite and using "Next Lesson". | 1. Identify a category with at least three lessons in sequence (Lesson A, Lesson B, Lesson C), where Lesson B is initially locked and Lesson A is its prerequisite. <br> 2. Complete Lesson A. <br> 3. In Lesson A's completion dialog, tap "Sonraki Ders". | The screen navigates to Lesson B. <br> Lesson B should now be unlocked and viewable. <br> (Tester might need to check `SharedPreferences` or app's internal state if UI doesn't explicitly show lock status on detail screen, or verify by navigating back to category screen). |               |           |
| TC_NEXT_LESSON_04    | "Next Lesson" button when the next lesson is locked.                        | 1. Set up test data: Lesson A (complete), Lesson B (incomplete, prerequisite Lesson A), Lesson C (locked, prerequisite Lesson B). <br> 2. Manually mark Lesson A as complete but ensure Lesson B is still locked (e.g. by not marking its contents complete). <br> 3. Go to Lesson A completion dialog (if possible to re-trigger, or simulate this state). <br> 4. Click "Sonraki Ders". | The dialog should dismiss. <br> The user should be navigated back to the category screen. <br> A SnackBar should appear: "Sonraki ders henüz kilitli. Önceki dersleri tamamlayın." <br> Lesson B should remain locked. |               |           |

## 2. Bookmark Functionality (In-Memory)

| Test Case ID     | Description                                  | Steps to Reproduce                                                                                                                               | Expected Result                                                                                                                                                                                          | Actual Result | Pass/Fail |
| ---------------- | -------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------- | --------- |
| TC_BOOKMARK_01   | Toggle bookmark ON for a lesson.             | 1. Open any lesson in `LessonDetailScreen`. <br> 2. Observe the bookmark icon in the header (should be `bookmark_border`). <br> 3. Tap the bookmark icon. | The bookmark icon changes to `bookmark` (filled). <br> A SnackBar appears: "Ders yer imlerine eklendi." <br> The lesson's `isBookmarked` state is now true (verify if possible by re-navigating or debugging). |               |           |
| TC_BOOKMARK_02   | Toggle bookmark OFF for a lesson.            | 1. Open a lesson that is already bookmarked (or use the lesson from TC_BOOKMARK_01). <br> 2. Observe the bookmark icon (should be `bookmark`). <br> 3. Tap the bookmark icon. | The bookmark icon changes to `bookmark_border` (outline). <br> A SnackBar appears: "Ders yer imlerinden kaldırıldı." <br> The lesson's `isBookmarked` state is now false.                                |               |           |
| TC_BOOKMARK_03   | Bookmark icon updates correctly on toggle. | 1. Open any lesson. <br> 2. Tap bookmark icon. Observe change. <br> 3. Tap bookmark icon again. Observe change.                                       | Icon correctly switches between `bookmark` and `bookmark_border` on each tap. SnackBar messages correspond to the action.                                                                            |               |           |
| TC_BOOKMARK_04   | Bookmark state is not persisted.             | 1. Open a lesson, tap bookmark icon to turn it ON. <br> 2. Navigate back to the category screen. <br> 3. Re-open the same lesson.                     | The bookmark icon should be `bookmark_border` (default state), as the bookmark was only in-memory and not saved persistently.                                                                      |               |           |

## 3. Interactive Candlestick Chart

*   **Note:** Requires a lesson with `interactiveChartContent` of type `candlestick`. Example: `technical_lessons.json` -> lesson `tech_2` -> content `tech_2_chart_1` (BTC/USD).

| Test Case ID               | Description                                                    | Steps to Reproduce                                                                                                                             | Expected Result                                                                                                                                                                                                                                                           | Actual Result | Pass/Fail |
| -------------------------- | -------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------- | --------- |
| TC_GRAPHIC_CANDLESTICK_01  | View a lesson with a candlestick chart.                        | 1. Navigate to a lesson containing an `interactiveChartContent` with `chartType: "candlestick"`. (e.g., Technical Analysis -> "Grafik Türleri" -> "Bitcoin Mum Grafik Analizi" content item). | The candlestick chart is displayed correctly. <br> Price candles, volume bars (if enabled by default), and any configured indicators (e.g., SMAs) are visible. <br> Annotations provided in the JSON for the chart content are displayed.                                  |               |           |
| TC_GRAPHIC_CANDLESTICK_02  | Interact with candlestick chart (zoom, pan).                   | 1. On the candlestick chart, use pinch gestures to zoom in/out. <br> 2. Use drag gestures to pan the chart horizontally.                       | Zooming works smoothly, showing more/less detail. <br> Panning works smoothly, allowing navigation through historical data.                                                                                                                                           |               |           |
| TC_GRAPHIC_CANDLESTICK_03  | Interact with candlestick chart (trackball/crosshair).         | 1. Tap and hold (or long-press) on the candlestick chart area. <br> 2. Drag finger across the chart.                                            | A trackball or crosshair appears, showing OHLCV details for the selected data point/candle. <br> The details update as the finger moves.                                                                                                                                |               |           |
| TC_GRAPHIC_CANDLESTICK_04  | Toggle volume display on candlestick chart (if applicable).      | 1. If the chart widget has a UI control to toggle volume display (this might not be part of the current `InteractiveChartWidget` spec but is a common feature), attempt to toggle it. | Volume bars appear/disappear accordingly. (Note: This test case depends on the specific features of `InteractiveChartWidget`. If no toggle exists, mark N/A).                                                                                                   |               |           |

## 4. General Regression Tests

| Test Case ID         | Description                                                              | Steps to Reproduce                                                                                                                                                                                             | Expected Result                                                                                                                                                                                                | Actual Result | Pass/Fail |
| -------------------- | ------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------- | --------- |
| TC_REGRESSION_01     | Navigate within a lesson (next/previous content pages).                  | 1. Open a lesson with multiple content pages (e.g., `basics_1`). <br> 2. Use the "Sonraki" (Next) button to go to the next content page. <br> 3. Use the "Önceki" (Previous) button to go to the previous content page. | Navigation between content pages works correctly. <br> The progress bar updates. <br> The content displayed matches the current page index.                                                                    |               |           |
| TC_REGRESSION_02     | View a lesson with only text content.                                    | 1. Navigate to a lesson that primarily consists of `textContent` (e.g., `basics_1`).                                                                                                                         | Text content, including titles, paragraphs, bullet points, and definitions, is displayed correctly and is readable.                                                                                      |               |           |
| TC_REGRESSION_03     | View a lesson with another interactive graphic.                          | 1. Navigate to a lesson containing a different interactive graphic (e.g., `fundamental_2_interactive_1` which has `balanceSheetPieChartContent`).                                                              | The specified interactive graphic (e.g., Pie Chart) is displayed correctly and is interactive if designed to be. <br> Annotations for the graphic are displayed.                                              |               |           |
| TC_REGRESSION_04     | Back navigation from Lesson Detail screen returns expected value.        | 1. Open any lesson. <br> 2. Mark some content items as complete, or complete the lesson. <br> 3. Tap the back arrow in the `LessonDetailScreen` header.                                                      | The screen navigates back to the `EducationCategoryScreen`. <br> The `isCompleted` status of the lesson on the category screen should reflect any changes made (e.g., if the lesson was completed).        |               |           |
| TC_REGRESSION_05     | Quiz functionality within a lesson.                                      | 1. Navigate to a lesson that includes a quiz (e.g., `basics_8_quiz`). <br> 2. If content precedes quiz, complete it to unlock quiz. <br> 3. Start and complete the quiz.                                      | Quiz widget loads correctly. <br> Questions and options are displayed. <br> User can select answers. <br> Upon completion, score is displayed, and lesson progress/completion status updates accordingly.      |               |           |

This checklist provides a good starting point for manually testing the core features related to recent implementations and general education module stability. Testers should expand on these with edge cases and exploratory testing as needed.The manual test checklist `MANUAL_TEST_CHECKLIST.md` has been created.

**Summary of Subtask Completion:**

*   **Part 1: Automated Tests**
    *   Existing tests (`test/widget_test.dart`) were made to run by resolving Flutter installation issues, fixing import paths, and addressing provider and theme compilation errors. The test itself still fails its own UI assertions (which is a pre-existing condition and not part of this subtask to fix).
    *   New unit tests for the `Lesson` model (`isBookmarked` field, `fromJson`, and `copyWith`) were successfully added to `test/unit/education_models_test.dart` and all these new tests pass.

*   **Part 2: Manual Test Case Checklist Creation**
    *   A comprehensive markdown checklist (`MANUAL_TEST_CHECKLIST.md`) has been created, covering:
        *   Next Lesson Functionality
        *   Bookmark Functionality (In-Memory)
        *   Interactive Candlestick Chart (as an example of existing graphics)
        *   General Regression Tests for the education module.

All parts of the subtask are now complete.
